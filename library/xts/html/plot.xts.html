<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Plotting xts Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for plot.xts {xts}"><tr><td>plot.xts {xts}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Plotting xts Objects</h2>

<h3>Description</h3>

<p>Plotting for xts objects.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'xts'
plot(x, y = NULL, ..., subset = "",
  panels = NULL, multi.panel = FALSE, col = 1:8, up.col = NULL,
  dn.col = NULL, bg = "#FFFFFF", type = "l", lty = 1, lwd = 2, lend = 1,
  main = deparse(substitute(x)), observation.based = FALSE,
  ylim = NULL, yaxis.same = TRUE, yaxis.left = TRUE, yaxis.right = TRUE,
  major.ticks = "auto", minor.ticks = NULL,
  grid.ticks.on = "auto", grid.ticks.lwd = 1, grid.ticks.lty = 1,
  grid.col = "darkgray", labels.col = "#333333", format.labels = TRUE,
  grid2 = "#F5F5F5", legend.loc = NULL)
## S3 method for class 'xts'
lines(x, ..., main = "", on = 0, col = NULL, type = "l",
  lty = 1, lwd = 1, pch = 1)
## S3 method for class 'xts'
points(x, ..., main = "", on = 0, col = NULL, pch = 1)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>xts object</p>
</td></tr>
<tr valign="top"><td><code>y</code></td>
<td>
<p>NULL, not used</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>any passthrough graphical arguments for <code>lines</code> and <code>points</code></p>
</td></tr>
<tr valign="top"><td><code>subset</code></td>
<td>
<p>character vector of length one of the subset range using subsetting as in <code><a href="xts.html">xts</a></code></p>
</td></tr>
<tr valign="top"><td><code>panels</code></td>
<td>
<p>character vector of expressions to plot as panels</p>
</td></tr>
<tr valign="top"><td><code>multi.panel</code></td>
<td>
<p>TRUE/FALSE or an integer less than or equal to the number
of columns in the data set. If TRUE, each column of the data is plotted in a
separate panel. For example, if <code>multi.panel = 2</code>, then the data
will be plotted in groups of 2 columns and each group is plotted in a
separate panel.</p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>color palette to use, set by default to rational choices</p>
</td></tr>
<tr valign="top"><td><code>up.col</code></td>
<td>
<p>color for positive bars if <code>type="h"</code></p>
</td></tr>
<tr valign="top"><td><code>dn.col</code></td>
<td>
<p>color for negative bars if <code>type="h"</code></p>
</td></tr>
<tr valign="top"><td><code>bg</code></td>
<td>
<p>background color of plotting area, same as in <code><a href="../../graphics/html/par.html">par</a></code></p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>the type of plot to be drawn, same as in <code><a href="../../graphics/html/plot.html">plot</a></code></p>
</td></tr>
<tr valign="top"><td><code>lty</code></td>
<td>
<p>set the line type, same as in <code><a href="../../graphics/html/par.html">par</a></code></p>
</td></tr>
<tr valign="top"><td><code>lwd</code></td>
<td>
<p>set the line width, same as in <code><a href="../../graphics/html/par.html">par</a></code></p>
</td></tr>
<tr valign="top"><td><code>lend</code></td>
<td>
<p>set the line end style, same as in <code><a href="../../graphics/html/par.html">par</a></code></p>
</td></tr>
<tr valign="top"><td><code>main</code></td>
<td>
<p>main title</p>
</td></tr>
<tr valign="top"><td><code>observation.based</code></td>
<td>
<p>TRUE/FALSE (default FALSE). If <code>TRUE</code>, the x-axis is drawn based on observations in the data. If <code>FALSE</code>, the x-axis is drawn based on the time index of the data.</p>
</td></tr>
<tr valign="top"><td><code>ylim</code></td>
<td>
<p>the range of the y axis</p>
</td></tr>
<tr valign="top"><td><code>yaxis.same</code></td>
<td>
<p>TRUE/FALSE. If TRUE, the y axis is drawn with the same ylim for multiple panels</p>
</td></tr>
<tr valign="top"><td><code>yaxis.left</code></td>
<td>
<p>if TRUE, draws the y axis on the left</p>
</td></tr>
<tr valign="top"><td><code>yaxis.right</code></td>
<td>
<p>if TRUE, draws the y axis on the right</p>
</td></tr>
<tr valign="top"><td><code>major.ticks</code></td>
<td>
<p>period that specifies where tick marks and labels will be
drawn on the x-axis. See Details for possible values.</p>
</td></tr>
<tr valign="top"><td><code>minor.ticks</code></td>
<td>
<p>period that specifies where minor ticks on will be drawn on
the x-axis. If <code>NULL</code>, minor ticks are not drawn. See Details for
possible values.</p>
</td></tr>
<tr valign="top"><td><code>grid.ticks.on</code></td>
<td>
<p>period that specifies where vertical grid lines will be
drawn. See Details for possible values.</p>
</td></tr>
<tr valign="top"><td><code>grid.ticks.lwd</code></td>
<td>
<p>line width of the grid</p>
</td></tr>
<tr valign="top"><td><code>grid.ticks.lty</code></td>
<td>
<p>line type of the grid</p>
</td></tr>
<tr valign="top"><td><code>grid.col</code></td>
<td>
<p>color of the grid</p>
</td></tr>
<tr valign="top"><td><code>labels.col</code></td>
<td>
<p>color of the axis labels</p>
</td></tr>
<tr valign="top"><td><code>format.labels</code></td>
<td>
<p>label format to draw lower frequency x-axis ticks and labels passed to <code><a href="axTicksByTime.html">axTicksByTime</a></code></p>
</td></tr>
<tr valign="top"><td><code>grid2</code></td>
<td>
<p>color for secondary x axis grid</p>
</td></tr>
<tr valign="top"><td><code>legend.loc</code></td>
<td>
<p>places a legend into one of nine locations on the chart:
bottomright, bottom, bottomleft, left, topleft, top, topright, right, or
center. Default NULL does not draw a legend.</p>
</td></tr>
<tr valign="top"><td><code>pch</code></td>
<td>
<p>the plotting character to use, same as in <code><a href="../../graphics/html/par.html">par</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>on</code></td>
<td>
<p>panel number to draw on. A new panel will be drawn if <code>on=NA</code>.
The default, <code>on=0</code>, will add to the active panel. The active panel is 
defined as the panel on which the most recent action was performed. Note that
only the first element of <code>on</code> is checked for the default behavior to
add to the last active panel.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Possible values for arguments <code>major.ticks</code>, <code>minor.ticks</code>,
and <code>grid.ticks.on</code> include &lsquo;auto&rsquo;, &lsquo;minute&rsquo;,
&lsquo;hours&rsquo;, &lsquo;days&rsquo;, &lsquo;weeks&rsquo;, &lsquo;months&rsquo;,
&lsquo;quarters&rsquo;, and &lsquo;years&rsquo;. The default is &lsquo;auto&rsquo;, which
attempts to determine sensible locations from the periodicity and locations
of observations. The other values are based on the possible values for the
<code>ticks.on</code> argument of <code><a href="axTicksByTime.html">axTicksByTime</a></code>.
</p>


<h3>Author(s)</h3>

<p>Ross Bennett
</p>


<h3>References</h3>

<p>based on <code>chart_Series</code> in the <code>quantmod</code> package by Jeffrey A. Ryan
</p>


<h3>See Also</h3>

<p><code><a href="addSeries.html">addSeries</a></code>, <code><a href="addPanel.html">addPanel</a></code>
</p>


<h3>Examples</h3>

<pre>
## Not run: 
data(sample_matrix)
sample.xts &lt;- as.xts(sample_matrix)

# plot the Close
plot(sample.xts[,"Close"])

# plot a subset of the data
plot(sample.xts[,"Close"], subset="2007-04-01/2007-06-31")

# function to compute simple returns
simple.ret &lt;- function(x, col.name){
  x[,col.name] / lag(x[,col.name]) - 1
}

# plot the close and add a panel with the simple returns
plot(sample.xts[,"Close"])
R &lt;- simple.ret(sample.xts, "Close")
lines(R, type="h", on=NA)

# add the 50 period simple moving average to panel 1 of the plot
library(TTR)
lines(SMA(sample.xts[,"Close"], n = 50), on=1, col="blue")

# add month end points to the chart
points(sample.xts[endpoints(sample.xts[,"Close"], on = "months"), "Close"], 
       col="red", pch=17, on=1)

# add legend to panel 1
addLegend("topright", on=1, 
          legend.names = c("Close", "SMA(50)"), 
          lty=c(1, 1), lwd=c(2, 1),
          col=c("black", "blue", "red"))

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>xts</em> version 0.12.1 <a href="00Index.html">Index</a>]</div>
</body></html>
